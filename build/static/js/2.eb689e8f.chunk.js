(this.webpackJsonpolympic=this.webpackJsonpolympic||[]).push([[2],{133:function(e,t,r){e.exports={gameCanvasWrapper:"gameCanvas_gameCanvasWrapper__TCGgt",gameCanvas:"gameCanvas_gameCanvas__Sct7E"}},39:function(e,t,r){"use strict";var n=r(53),a=r.n(n);t.a=function(e){var t=e.host,r=e.eventListeners,n=e.eventEmitters,c=a()(t,{secure:!1});return c.on("connect",(function(){console.log("connected !"),n.forEach((function(e){var t="function"===typeof e.ack?e.ack:null;c.emit(e.emitter,e.data,t)}))})),r.forEach((function(e){c.on(e.listener,e.callback)})),c}},41:function(e,t,r){"use strict";t.a={socketioHost:"shakeshakegame.herokuapp.com"}},45:function(e,t,r){"use strict";var n,a=r(57),c=r(42),l=r(49),u=r(0),i=r.n(u),o=r(5),s=r(12),m=r(51),d=r.n(m),f=r(39),g=r(6),b=r(41),k=(r(48),r(50)),h=r.n(k),v=["#0885c2","#fbb132","#000000","#1c8b3c","#ed334e"],y=0,p=1,I=2,A=3,E=4,S=5,O=6,j=7,w=(n={},Object(l.a)(n,y,"idle"),Object(l.a)(n,p,"waiting"),Object(l.a)(n,I,"selecting"),Object(l.a)(n,A,"selected"),Object(l.a)(n,E,"ready"),Object(l.a)(n,S,"started"),Object(l.a)(n,O,"result"),Object(l.a)(n,j,"offline"),n),V=[1,2,5,10,20,50,100];t.a=function(){var e,t=Object(u.useState)(j),r=Object(c.a)(t,2),n=r[0],m=r[1],k=Object(u.useState)([]),E=Object(c.a)(k,2),O=E[0],W=E[1],C=Object(u.useState)([]),L=Object(c.a)(C,2),R=L[0],Z=L[1],x=Object(u.useState)([]),F=Object(c.a)(x,2),q=F[0],N=F[1],J=Object(u.useState)([]),P=Object(c.a)(J,2),B=P[0],K=P[1],T=Object(u.useState)([0,0,0,0,0]),X=Object(c.a)(T,2),G=X[0],U=X[1],D=Object(u.useState)([0,0,0,0,0]),Q=Object(c.a)(D,2),z=Q[0],M=Q[1],H=Object(u.useState)(0),_=Object(c.a)(H,2),Y=_[0],$=_[1],ee=Object(u.useState)(1),te=Object(c.a)(ee,2),re=te[0],ne=te[1],ae=Object(o.i)().roomId,ce=[0,0,0,0,0],le=Object(u.useRef)(null);Object(u.useEffect)((function(){return le.current=Object(f.a)({host:b.a.socketioHost,eventEmitters:[{emitter:"debugRoom",data:{roomId:ae},ack:function(e){console.log(e),Array.isArray(e)&&Z(e)}}],eventListeners:[{listener:"disconnect",callback:function(){return console.log("disconnect!")}},{listener:"gameStage",callback:function(e,t){if(console.log("gameStage",e,t),m(e),e===S){for(var r=0;r<ce.length;r++)ce[r]=0;U([0,0,0,0,0])}else e===I&&M([0,0,0,0,0])}},{listener:"playersInfo",callback:function(e){console.log("playersInfo",e),K(e);var t=[];e.forEach((function(e,r){if(!1===e.joined){var n=window.location.origin+Object(o.f)(g.a.mobileHome,{playerId:e.playerId});W((function(e){var t=Object(a.a)(e);return t[r]=n,t})),d.a.toDataURL(n,{margin:0,width:150,color:{dark:v[r]}},(function(e,n){t[r]=n,N([].concat(t))}))}else t[r]=null,N([].concat(t))}))}},{listener:"gameChoices",callback:function(e){console.log("gameChoices",e),M(e)}},{listener:"gameSelected",callback:function(e){console.log("gameSelected",e),$(e)}},{listener:"playersShake",callback:function(e){console.log("playersShake",e),e.forEach((function(e,t){ce[t]+=e})),U([].concat(ce))}},{listener:"updateDistanceMultiplier",callback:function(e){console.log("updateDistanceMultiplier",e),ne(e)}},{listener:"roomList",callback:function(e){console.log("roomList",e),Array.isArray(e)&&Z(e)}}]}),function(){le.current&&le.current.disconnect()}}),[ae]);var ue=function(e){var t=B[e].playerId;le.current.emit("debug",{type:"joinGame",data:{playerId:t}})},ie=function(e){var t=B[e].playerId;le.current.emit("debug",{type:"kickPlayer",data:{playerId:t}})},oe=function(e){var t=B[e].playerId;le.current.emit("debug",{type:"shake",data:{playerId:t}})},se=function(e,t){z[e]=t,le.current.emit("debug",{type:"selectGame",data:{selectedArray:z}})};return i.a.createElement("div",{className:h.a.debugPanel},i.a.createElement("div",{className:h.a.header},"Debug Panel - Room",void 0!==ae&&i.a.createElement(i.a.Fragment,null,"\xa0",i.a.createElement(s.b,{to:Object(o.f)(g.a.debug),className:h.a.backToList}),i.a.createElement("span",{className:h.a.roomId,title:"Room Id: ".concat(ae)},ae))),void 0!==ae?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:h.a.row},"Game Stage: \xa0",i.a.createElement("select",{value:n,onChange:function(e){var t=e.target.value;m(t),le.current.emit("debug",{type:"gameStage",data:t})}},Object.keys(w).map((function(e){return i.a.createElement("option",{key:e,value:e},w[e])})))),i.a.createElement("div",{className:h.a.row},"Distance Multiplier: \xa0",i.a.createElement("select",{value:re,onChange:function(e){var t=e.target.value;ne(t),le.current.emit("debug",{type:"setDistanceMultiplier",data:t})}},V.map((function(e){return i.a.createElement("option",{key:e,value:e},e)})))),(e={},Object(l.a)(e,y,i.a.createElement("div",{className:h.a.row},q.map((function(e,t){return null!==e?i.a.createElement("a",{key:t,href:O[t],className:h.a.qrblock,onClick:function(e){e.preventDefault(),ue(t)}},i.a.createElement("img",{src:e}),i.a.createElement("div",null,"Use this")):i.a.createElement("div",{key:t,className:h.a.qrblock,onClick:function(){return ie(t)}},i.a.createElement("div",{className:h.a.qrplaceholder,style:{color:v[t]}},"Joined"),i.a.createElement("div",null,"Kick this"))})))),Object(l.a)(e,p,i.a.createElement("div",{className:h.a.row},q.map((function(e,t){return null!==e?i.a.createElement("a",{key:t,href:O[t],className:h.a.qrblock,onClick:function(e){e.preventDefault(),ue(t)}},i.a.createElement("img",{src:e}),i.a.createElement("div",null,"Use this")):i.a.createElement("div",{key:t,className:h.a.qrblock,onClick:function(){return ie(t)}},i.a.createElement("div",{className:h.a.qrplaceholder,style:{color:v[t]}},"Joined"),i.a.createElement("div",null,"Kick this"))})))),Object(l.a)(e,I,i.a.createElement("div",{className:h.a.row},B.map((function(e,t){return e.joined?i.a.createElement("div",{key:t,className:h.a.playerJoined,onClick:function(){return oe(t)},style:{color:v[t]}},i.a.createElement("button",{onClick:function(){return se(t,0)},className:h.a.gameSelectingBtn+(0===z[t]?" "+h.a.gameSelected:"")},"Game 1"),i.a.createElement("button",{onClick:function(){return se(t,1)},className:h.a.gameSelectingBtn+(1===z[t]?" "+h.a.gameSelected:"")},"Game 2"),i.a.createElement("button",{onClick:function(){return se(t,2)},className:h.a.gameSelectingBtn+(2===z[t]?" "+h.a.gameSelected:"")},"Game 3")):i.a.createElement("div",{key:t,className:h.a.playerNotJoined,style:{color:v[t]}},i.a.createElement("div",null,"Not Joined"))})))),Object(l.a)(e,A,i.a.createElement("div",{className:h.a.row},"Game ",Y+1)),Object(l.a)(e,S,i.a.createElement("div",{className:h.a.row},B.map((function(e,t){return e.joined?i.a.createElement("div",{key:t,className:h.a.playerJoined,onClick:function(){return oe(t)},style:{color:v[t]}},i.a.createElement("div",null,"Shake"),i.a.createElement("div",null,G[t])):i.a.createElement("div",{key:t,className:h.a.playerNotJoined,style:{color:v[t]}},i.a.createElement("div",null,"Not Joined"))})))),e)[n]):i.a.createElement(i.a.Fragment,null,R.length>0?i.a.createElement("div",{className:h.a.roomItemWrap},R.map((function(e){return i.a.createElement(s.b,{key:e,to:Object(o.f)(g.a.debug,{roomId:e}),className:h.a.roomItem},e)}))):i.a.createElement("div",{className:h.a.row},"No Game is Running")))}},48:function(e,t){e.exports="data:image/png;base64,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"},50:function(e,t,r){e.exports={debugPanel:"debugPanel_debugPanel__3kgxk",header:"debugPanel_header__EgQS6",row:"debugPanel_row__N_HOL",roomId:"debugPanel_roomId__1E2Dm",backToList:"debugPanel_backToList__2VkAM",qrblock:"debugPanel_qrblock__JwbyM",qrplaceholder:"debugPanel_qrplaceholder__1YF8A",playerJoined:"debugPanel_playerJoined__3vRFM",playerNotJoined:"debugPanel_playerNotJoined__1tp77",gameSelectingBtn:"debugPanel_gameSelectingBtn__GbPma",gameSelected:"debugPanel_gameSelected__Ygnf6",roomItemWrap:"debugPanel_roomItemWrap__30aun",roomItem:"debugPanel_roomItem__SbFGZ"}},56:function(e,t){},82:function(e,t,r){"use strict";var n,a=r(57),c=r(42),l=r(49),u=r(0),i=r.n(u),o=r(5),s=r(51),m=r.n(s),d=r(39),f=r(6),g=r(41),b=r(48),k=r.n(b),h=r(133),v=r.n(h),y=0,p=1,I=2,A=3,E=4,S=5,O=6,j=7,w=(n={},Object(l.a)(n,y,-1),Object(l.a)(n,p,20),Object(l.a)(n,I,10),Object(l.a)(n,A,5),Object(l.a)(n,E,5),Object(l.a)(n,S,30),Object(l.a)(n,O,10),Object(l.a)(n,j,-1),n),V=["#0885c2","#fbb132","#000000","#1c8b3c","#ed334e"],W=[[954,2,18,21],[974,2,18,21],[994,2,18,21],[1014,2,18,21],[1034,2,18,21],[1054,2,18,21],[1074,2,18,21],[1094,2,18,21],[1114,2,18,21],[1134,2,18,21]],C=[166,2,92,27],L=[[260,2,92,80],[352,2,92,80]],R=[2,104,2400,26],Z=[[1338,2,88,94],[1426,2,88,94],[1514,2,88,94],[1602,2,88,94],[1690,2,88,94],[1778,2,88,94],[1866,2,118,94],[1984,2,118,94]],x=[446,2,34,70];t.a=function(){var e=Object(u.useState)(j),t=Object(c.a)(e,2),r=t[0],n=t[1],l=function(){var e=document.createElement("canvas"),t=e.getContext("2d"),r=new Image;return r.addEventListener("load",(function(){e.width=r.width,e.height=r.height,t.drawImage(r,0,0)}),{once:!0}),r.src=k.a,e}(),s=Object(u.useRef)(),b=Object(u.useRef)(),h=Object(u.useRef)(),F=Object(o.i)().roomId,q=Object(u.useRef)([]),N=Object(u.useRef)([]),J=Object(o.h)(),P=[],B=[],K=Object(u.useRef)([0,0,0,0,0]),T=Object(u.useRef)(0),X=Object(u.useRef)(0),G=Object(u.useRef)(0),U=Object(u.useRef)(0),D=Object(u.useRef)(F),Q=Object(u.useRef)(0),z=function(e){var t;(t=b.current).drawImage.apply(t,[l].concat(Object(a.a)(Z[e]),[88,196,88,94]))},M=function(e){var t=(Date.now()-U.current)/1e3;Math.max(e-~~t,0).toString().padStart(3,"0").split("").forEach((function(e,t){var r;(r=b.current).drawImage.apply(r,[l].concat(Object(a.a)(W[e]),[11+22*t,11,W[e][2],W[e][3]]))}))},H=function(e){var t=e%R[2];b.current.drawImage(l,t,R[1],s.current.width,R[3],0,264,s.current.width,R[3]);var r=t-R[2]+s.current.width;r>0&&b.current.drawImage(l,R[0],R[1],r,R[3],s.current.width-r,264,r,R[3])},_=function(e){var t=e.toString().padStart(5,"0").split("");t.forEach((function(e,r){var n;(n=b.current).drawImage.apply(n,[l].concat(Object(a.a)(W[e]),[s.current.width-22*(t.length-r+.5),11,W[e][2],W[e][3]]))}))},Y=new Array(5).fill(Date.now()),$=function(){var e=Date.now();K.current.forEach((function(t,r){var n=e-Y[r];if(b.current.save(),!0!==N.current[r]&&(b.current.globalAlpha=.3),t>0){var a,c=n>=Math.min(500/t,200);(a=b.current).drawImage.apply(a,[l].concat(x,[218+80*r,320-t%2*15,x[2],x[3]])),c&&(K.current[r]-=1,Y[r]=e)}else{var u;(u=b.current).drawImage.apply(u,[l].concat(x,[218+80*r,320,x[2],x[3]]))}b.current.fillStyle=V[r],b.current.fillRect(218+80*r,380,x[2],10),b.current.restore()}))},ee=function(e){T.current+=e,T.current=Math.max(Math.min(T.current,30),0)},te=function e(){switch(h.current=requestAnimationFrame(e),b.current.clearRect(0,0,s.current.width,s.current.height),b.current.save(),b.current.font="12px PressStart",b.current.textAlign="left",b.current.fillText("ID:".concat(D.current),16,s.current.height-8),b.current.restore(),r){case y:G.current=0,T.current=0,X.current=0,function(){var e=q.current[2];b.current.drawImage(e,320,180),b.current.save(),b.current.font="30px PressStart",b.current.textAlign="center",b.current.fillText("Shake Shake Game",s.current.width/2,110),b.current.restore()}();break;case p:G.current=0,T.current=0,X.current=0,q.current.forEach((function(e,t){b.current.drawImage(e,85+120*t,t%2===0?30:210)})),M(w[r]);break;case I:M(w[r]),b.current.save(),b.current.font="30px PressStart",b.current.textAlign="center",b.current.fillText("Select Game",s.current.width/2,s.current.height/2-15),b.current.fillText("on Your Device",s.current.width/2,s.current.height/2+45),b.current.restore();break;case A:M(w[r]),b.current.save(),b.current.font="30px PressStart",b.current.textAlign="center",b.current.fillText("Game ".concat(Q.current+1),s.current.width/2,s.current.height/2+30),b.current.restore();break;case E:G.current+=1,H(0),G.current/60<2?(z(~~(G.current/60%10/9)),b.current.save(),b.current.font="30px PressStart",b.current.textAlign="center",b.current.fillText("Get",s.current.width/2,s.current.height/2+30),b.current.restore()):(z(6),b.current.save(),b.current.font="30px PressStart",b.current.textAlign="center",b.current.fillText("Set",s.current.width/2,s.current.height/2+30),b.current.restore()),$(),_(0);break;case S:G.current+=.5+T.current,T.current>0&&ee(-Math.max(.1,.01*T.current)),G.current/60<1&&(b.current.save(),b.current.font="".concat(30+20*G.current/60,"px PressStart"),b.current.textAlign="center",b.current.fillText("Go",s.current.width/2,s.current.height/2+30),b.current.restore()),H(G.current/60*60),t=G.current/60*10,P.forEach((function(e,r){var n,a=s.current.width+2*C[2]-(t*e[0]-e[2])%(s.current.width+2*C[2])-2*C[2];(n=b.current).drawImage.apply(n,[l].concat(C,[a,e[1],C[2],C[3]])),a<=-C[2]&&(P[r]=null)})),P=P.filter((function(e){return null!==e})),function(e){var t=~~(e/60)%L.length;B.forEach((function(r,n){var c,u=s.current.width+2*L[t][2]-(e*r[0]-r[2])%(s.current.width+2*L[t][2])-2*L[t][2];(c=b.current).drawImage.apply(c,[l].concat(Object(a.a)(L[t]),[u,r[1],L[t][2],L[t][3]])),u<=-L[t][2]&&(B[n]=null)})),B=B.filter((function(e){return null!==e}))}(G.current/60*30),z(~~(G.current/60*1)%2+2),$(),_(X.current),M(w[r]),P.length<1&&P.push([.5,100*Math.random(),G.current/60*10*.5]),B.length<1&&B.push([1,30+90*Math.random(),G.current/60*30]);break;case O:!function(e){b.current.save(),b.current.font="30px PressStart",b.current.textAlign="center",b.current.fillText("Score",s.current.width/2,s.current.height/2-15),b.current.fillText(e.toString().padStart(5,"0"),s.current.width/2,s.current.height/2+45),b.current.restore()}(X.current),M(w[r])}var t};return Object(u.useEffect)((function(){return Object(d.a)({host:g.a.socketioHost,eventEmitters:[{emitter:"createRoom",data:{roomId:F},ack:function(e){console.log("ack",e),e!==F&&(D.current=e,J.push(Object(o.f)(f.a.home,{roomId:e})))}}],eventListeners:[{listener:"disconnect",callback:function(){return console.log("disconnect")}},{listener:"roomCreated",callback:function(e){D.current=e}},{listener:"gameStage",callback:function(e){n(e)}},{listener:"playersInfo",callback:function(e){q.current.length=0,e.forEach((function(e,t){console.log(e);var r=document.createElement("canvas");if(r.width=150,r.height=150,!1===e.joined){N.current[t]=!1;var n=window.location.origin+Object(o.f)(f.a.mobileHome,{playerId:e.playerId});m.a.toCanvas(r,n,{margin:0,width:150,color:{dark:V[t]}})}else{N.current[t]=!0;var a=r.getContext("2d");a.fillStyle=V[t],a.fillRect(0,0,150,150),a.drawImage.apply(a,[l].concat(x,[(150-x[2])/2,(150-x[3])/2,x[2],x[3]]))}q.current[t]=r}))}},{listener:"gameSelected",callback:function(e){Q.current=e}},{listener:"playersShake",callback:function(e){!function(e){e.forEach((function(e,t){return K.current[t]+=2*e}));var t=e.reduce((function(e,t){return e+t}));X.current+=t,ee(t)}(e)}},{listener:"gameResult",callback:function(e){X.current=e}}]}),function(){cancelAnimationFrame(h.current)}}),[]),Object(u.useEffect)((function(){switch(r){case y:case p:case E:case S:G.current=0,T.current=0,X.current=0,K.current=[0,0,0,0,0],U.current=Date.now();break;case I:case A:case O:U.current=Date.now()}return te(),function(){cancelAnimationFrame(h.current)}}),[r]),i.a.createElement("div",{className:v.a.gameCanvasWrapper},i.a.createElement("canvas",{className:v.a.gameCanvas,ref:function(e){s.current=e,e?(e.width=e.offsetWidth,e.height=e.offsetHeight,b.current=e.getContext("2d")):b.current=null}}))}}}]);
//# sourceMappingURL=2.eb689e8f.chunk.js.map