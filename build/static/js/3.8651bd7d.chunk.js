(this.webpackJsonpolympic=this.webpackJsonpolympic||[]).push([[3],{140:function(e,t,r){e.exports={gameCanvasWrapper:"gameCanvas_gameCanvasWrapper__24jRb",gameCanvas:"gameCanvas_gameCanvas__1a-JZ",fullscreenIcon:"gameCanvas_fullscreenIcon__1_V4H"}},42:function(e,t,r){"use strict";var n=r(56),a=r.n(n);t.a=function(e){var t=e.host,r=e.eventListeners,n=e.eventEmitters,c=a()(t,{secure:!1});return c.on("connect",(function(){console.log("connected !"),n.forEach((function(e){var t="function"===typeof e.ack?e.ack:null;c.emit(e.emitter,e.data,t)}))})),r.forEach((function(e){c.on(e.listener,e.callback)})),c}},43:function(e,t,r){"use strict";t.a={socketioHost:"shakeshakegame.herokuapp.com",apiUrl:"https://shakeshakegame.herokuapp.com/data"}},47:function(e,t,r){"use strict";var n,a=r(52),c=r(41),l=r(48),u=r(0),i=r.n(u),o=r(5),s=r(12),m=r(54),f=r.n(m),d=r(42),g=r(6),b=r(43),y=(r(51),r(53)),k=r.n(y),h=["#ed334e","#00652e","#0080C7","#fbb130","#231f20"],v=0,p=1,I=2,A=3,E=4,S=5,O=6,j=7,w=(n={},Object(l.a)(n,v,"idle"),Object(l.a)(n,p,"waiting"),Object(l.a)(n,I,"selecting"),Object(l.a)(n,A,"selected"),Object(l.a)(n,E,"ready"),Object(l.a)(n,S,"started"),Object(l.a)(n,O,"result"),Object(l.a)(n,j,"offline"),n),C=[.1,1,2,5,10,20,50,100];t.a=function(){var e,t=Object(u.useState)(j),r=Object(c.a)(t,2),n=r[0],m=r[1],y=Object(u.useState)([]),E=Object(c.a)(y,2),O=E[0],V=E[1],W=Object(u.useState)([]),R=Object(c.a)(W,2),L=R[0],x=R[1],Z=Object(u.useState)([]),F=Object(c.a)(Z,2),q=F[0],N=F[1],J=Object(u.useState)([]),P=Object(c.a)(J,2),B=P[0],K=P[1],T=Object(u.useState)(new Array(5).fill(0)),U=Object(c.a)(T,2),X=U[0],G=U[1],D=Object(u.useState)(new Array(5).fill(-1)),Q=Object(c.a)(D,2),z=Q[0],M=Q[1],_=Object(u.useState)(0),H=Object(c.a)(_,2),Y=H[0],$=H[1],ee=Object(u.useState)(1),te=Object(c.a)(ee,2),re=te[0],ne=te[1],ae=Object(o.i)().roomId,ce=[0,0,0,0,0],le=Object(u.useRef)(null);Object(u.useEffect)((function(){return le.current=Object(d.a)({host:b.a.socketioHost,eventEmitters:[{emitter:"debugRoom",data:{roomId:ae},ack:function(e){console.log(e.data),Array.isArray(e.data)&&x(e.data)}}],eventListeners:[{listener:"disconnect",callback:function(){return console.log("disconnect!")}},{listener:"gameStage",callback:function(e){var t=e.data,r=e.playersInfo;if(console.log("gameStage",t,r),m(t),t===S){for(var n=0;n<ce.length;n++)ce[n]=0;G(new Array(5).fill(0))}else t===I&&M(new Array(5).fill(-1))}},{listener:"playersInfo",callback:function(e){var t=e.data;console.log("playersInfo",t),K(t);var r=[];t.forEach((function(e,t){if(!1===e.joined){var n=window.location.origin+Object(o.f)(g.a.mobileHome,{playerId:e.playerId});V((function(e){var r=Object(a.a)(e);return r[t]=n,r})),f.a.toDataURL(n,{margin:0,width:150,color:{dark:h[t]}},(function(e,n){r[t]=n,N([].concat(r))}))}else r[t]=null,N([].concat(r))}))}},{listener:"gameChoices",callback:function(e){var t=e.data;console.log("gameChoices",t),M(t)}},{listener:"gameSelected",callback:function(e){var t=e.data;console.log("gameSelected",t),$(t)}},{listener:"playersShake",callback:function(e){var t=e.data;console.log("playersShake",t),t.forEach((function(e,t){ce[t]+=e})),G([].concat(ce))}},{listener:"updateDistanceMultiplier",callback:function(e){console.log("updateDistanceMultiplier",e),ne(e)}},{listener:"roomList",callback:function(e){console.log("roomList",e),Array.isArray(e)&&x(e)}},{listener:"gameResult",callback:function(e){console.log("gameResult",e)}}]}),function(){le.current&&le.current.disconnect()}}),[ae]);var ue=function(e){var t=B[e].playerId;le.current.emit("debug",{type:"joinGame",data:{playerId:t}})},ie=function(e){var t=B[e].playerId;le.current.emit("debug",{type:"kickPlayer",data:{playerId:t}})},oe=function(e){var t=B[e].playerId;le.current.emit("debug",{type:"shake",data:{playerId:t}})},se=function(e,t){z[e]=t,le.current.emit("debug",{type:"selectGame",data:{selectedArray:z}})};return i.a.createElement("div",{className:k.a.debugPanel},i.a.createElement("div",{className:k.a.header},"Debug Panel - Room",void 0!==ae&&i.a.createElement(i.a.Fragment,null,"\xa0",i.a.createElement(s.b,{to:Object(o.f)(g.a.debug),className:k.a.backToList}),i.a.createElement("span",{className:k.a.roomId,title:"Room Id: ".concat(ae)},ae))),void 0!==ae?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:k.a.row},"Game Stage: \xa0",i.a.createElement("select",{value:n,onChange:function(e){var t=e.target.value;m(t),le.current.emit("debug",{type:"gameStage",data:t})}},Object.keys(w).map((function(e){return i.a.createElement("option",{key:e,value:e},w[e])})))),i.a.createElement("div",{className:k.a.row},"Distance Multiplier: \xa0",i.a.createElement("select",{value:re,onChange:function(e){var t=e.target.value;ne(t),le.current.emit("debug",{type:"setDistanceMultiplier",data:t})}},C.map((function(e){return i.a.createElement("option",{key:e,value:e},e)})))),(e={},Object(l.a)(e,v,i.a.createElement("div",{className:k.a.row},q.map((function(e,t){return null!==e?i.a.createElement("a",{key:t,href:O[t],className:k.a.qrblock,onClick:function(e){e.preventDefault(),ue(t)}},i.a.createElement("img",{src:e}),i.a.createElement("div",null,"Use this")):i.a.createElement("div",{key:t,className:k.a.qrblock,onClick:function(){return ie(t)}},i.a.createElement("div",{className:k.a.qrplaceholder,style:{color:h[t]}},"Joined"),i.a.createElement("div",null,"Kick this"))})))),Object(l.a)(e,p,i.a.createElement("div",{className:k.a.row},q.map((function(e,t){return null!==e?i.a.createElement("a",{key:t,href:O[t],className:k.a.qrblock,onClick:function(e){e.preventDefault(),ue(t)}},i.a.createElement("img",{src:e}),i.a.createElement("div",null,"Use this")):i.a.createElement("div",{key:t,className:k.a.qrblock,onClick:function(){return ie(t)}},i.a.createElement("div",{className:k.a.qrplaceholder,style:{color:h[t]}},"Joined"),i.a.createElement("div",null,"Kick this"))})))),Object(l.a)(e,I,i.a.createElement("div",{className:k.a.row},B.map((function(e,t){return e.joined?i.a.createElement("div",{key:t,className:k.a.playerJoined,onClick:function(){return oe(t)},style:{color:h[t]}},i.a.createElement("button",{onClick:function(){return se(t,0)},className:k.a.gameSelectingBtn+(0===z[t]?" "+k.a.gameSelected:"")},"Game 1"),i.a.createElement("button",{onClick:function(){return se(t,1)},className:k.a.gameSelectingBtn+(1===z[t]?" "+k.a.gameSelected:"")},"Game 2"),i.a.createElement("button",{onClick:function(){return se(t,2)},className:k.a.gameSelectingBtn+(2===z[t]?" "+k.a.gameSelected:"")},"Game 3")):i.a.createElement("div",{key:t,className:k.a.playerNotJoined,style:{color:h[t]}},i.a.createElement("div",null,"Not Joined"))})))),Object(l.a)(e,A,i.a.createElement("div",{className:k.a.row},"Game ",Y+1)),Object(l.a)(e,S,i.a.createElement("div",{className:k.a.row},B.map((function(e,t){return e.joined?i.a.createElement("div",{key:t,className:k.a.playerJoined,onClick:function(){return oe(t)},style:{color:h[t]}},i.a.createElement("div",null,"Shake"),i.a.createElement("div",null,X[t])):i.a.createElement("div",{key:t,className:k.a.playerNotJoined,style:{color:h[t]}},i.a.createElement("div",null,"Not Joined"))})))),e)[n]):i.a.createElement(i.a.Fragment,null,L.length>0?i.a.createElement("div",{className:k.a.roomItemWrap},L.map((function(e){return i.a.createElement(s.b,{key:e,to:Object(o.f)(g.a.debug,{roomId:e}),className:k.a.roomItem},e.split("-")[0])}))):i.a.createElement("div",{className:k.a.row},"No Game is Running")))}},51:function(e,t){e.exports="data:image/png;base64,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"},53:function(e,t,r){e.exports={debugPanel:"debugPanel_debugPanel__3MTTn",header:"debugPanel_header__18Ub2",row:"debugPanel_row__3Bl3F",roomId:"debugPanel_roomId__3o3yP",backToList:"debugPanel_backToList__3dbgt",qrblock:"debugPanel_qrblock__1YTKB",qrplaceholder:"debugPanel_qrplaceholder__3hrn6",playerJoined:"debugPanel_playerJoined__KgOtU",playerNotJoined:"debugPanel_playerNotJoined__2pYTa",gameSelectingBtn:"debugPanel_gameSelectingBtn__3PfEG",gameSelected:"debugPanel_gameSelected__dKF6c",roomItemWrap:"debugPanel_roomItemWrap__3xk8X",roomItem:"debugPanel_roomItem__3Y__k"}},59:function(e,t){},84:function(e,t,r){"use strict";var n,a=r(52),c=r(41),l=r(48),u=r(0),i=r.n(u),o=r(5),s=r(54),m=r.n(s),f=r(42),d=r(6),g=r(43),b=r(51),y=r.n(b),k=r(140),h=r.n(k),v=0,p=1,I=2,A=3,E=4,S=5,O=6,j=7,w=(n={},Object(l.a)(n,v,-1),Object(l.a)(n,p,20),Object(l.a)(n,I,10),Object(l.a)(n,A,5),Object(l.a)(n,E,5),Object(l.a)(n,S,30),Object(l.a)(n,O,10),Object(l.a)(n,j,-1),n),C=["#0885c2","#fbb132","#000000","#1c8b3c","#ed334e"],V=[166,2,92,27],W=[[260,2,92,80],[352,2,92,80]],R=[2,104,2400,26],L=[[1338,2,88,94],[1426,2,88,94],[1514,2,88,94],[1602,2,88,94],[1690,2,88,94],[1778,2,88,94],[1866,2,118,94],[1984,2,118,94]],x=[446,2,34,70];t.a=function(){var e=Object(u.useState)(j),t=Object(c.a)(e,2),r=t[0],n=t[1],l=function(){var e=document.createElement("canvas"),t=e.getContext("2d"),r=new Image;return r.addEventListener("load",(function(){e.width=r.width,e.height=r.height,t.drawImage(r,0,0)}),{once:!0}),r.src=y.a,e}(),s=Object(u.useRef)(),b=Object(u.useRef)(),k=Object(u.useRef)(),Z=Object(o.i)().roomId,F=Object(u.useRef)([]),q=Object(u.useRef)([]),N=Object(o.h)(),J=[],P=[],B=Object(u.useRef)([0,0,0,0,0]),K=Object(u.useRef)(0),T=Object(u.useRef)(0),U=Object(u.useRef)(0),X=Object(u.useRef)(0),G=Object(u.useRef)(Z),D=Object(u.useRef)(0),Q=function(e){var t;(t=b.current).drawImage.apply(t,[l].concat(Object(a.a)(L[e]),[93,216,88,94]))},z=function(e){var t=(Date.now()-X.current)/1e3,r=Math.max(e-~~t,0).toString().padStart(3,"0");b.current.save(),b.current.font="24px PressStart",b.current.fillStyle="#535353",b.current.fillText(r,11,35),b.current.restore()},M=function(e){var t=e%R[2];b.current.drawImage(l,t,R[1],s.current.width,R[3],0,294,s.current.width,R[3]);var r=t-R[2]+s.current.width;r>0&&b.current.drawImage(l,R[0],R[1],r,R[3],s.current.width-r,294,r,R[3])},_=function(e){var t=e.toString().padStart(5,"0");b.current.save(),b.current.font="24px PressStart",b.current.textAlign="right",b.current.fillStyle="#535353",b.current.fillText(t,s.current.width-11,35),b.current.restore()},H=new Array(5).fill(Date.now()),Y=function(){var e=Date.now();B.current.forEach((function(t,r){var n=e-H[r];if(b.current.save(),!0!==q.current[r]&&(b.current.globalAlpha=.3),t>0){var a,c=n>=Math.min(500/t,200);(a=b.current).drawImage.apply(a,[l].concat(x,[223+80*r,350-t%2*15,x[2],x[3]])),c&&(B.current[r]-=1,H[r]=e)}else{var u;(u=b.current).drawImage.apply(u,[l].concat(x,[223+80*r,350,x[2],x[3]]))}b.current.fillStyle=C[r],b.current.fillRect(223+80*r,410,x[2],10),b.current.restore()}))},$=function(e){K.current+=e,K.current=Math.max(Math.min(K.current,30),0)},ee=function e(){switch(k.current=requestAnimationFrame(e),b.current.clearRect(0,0,s.current.width,s.current.height),b.current.save(),b.current.font="12px PressStart",b.current.fillStyle="#535353",b.current.textAlign="left",b.current.fillText("ID:".concat(G.current),16,s.current.height-8),b.current.restore(),r){case v:U.current=0,K.current=0,T.current=0,function(){var e=F.current[2];b.current.drawImage(e,325,210),b.current.save(),b.current.font="30px PressStart",b.current.textAlign="center",b.current.fillStyle="#535353",b.current.fillText("Shake Shake Game",s.current.width/2,140),b.current.restore()}();break;case p:U.current=0,K.current=0,T.current=0,F.current.forEach((function(e,t){b.current.drawImage(e,90+120*t,t%2===0?60:240)})),z(w[r]);break;case I:z(w[r]),b.current.save(),b.current.font="30px PressStart",b.current.fillStyle="#535353",b.current.textAlign="center",b.current.fillText("Select Game",s.current.width/2,s.current.height/2-15),b.current.fillText("on Your Device",s.current.width/2,s.current.height/2+45),b.current.restore();break;case A:z(w[r]),b.current.save(),b.current.font="30px PressStart",b.current.fillStyle="#535353",b.current.textAlign="center",b.current.fillText("Game ".concat(D.current+1),s.current.width/2,s.current.height/2+30),b.current.restore();break;case E:U.current+=1,M(0),U.current/60<2?(Q(~~(U.current/60%10/9)),b.current.save(),b.current.font="30px PressStart",b.current.fillStyle="#535353",b.current.textAlign="center",b.current.fillText("Get",s.current.width/2,s.current.height/2+30),b.current.restore()):(Q(6),b.current.save(),b.current.font="30px PressStart",b.current.fillStyle="#535353",b.current.textAlign="center",b.current.fillText("Set",s.current.width/2,s.current.height/2+30),b.current.restore()),Y(),_(0);break;case S:U.current+=.5+K.current,K.current>0&&$(-Math.max(.1,.01*K.current)),U.current/60<1&&(b.current.save(),b.current.font="".concat(30+20*U.current/60,"px PressStart"),b.current.fillStyle="#535353",b.current.textAlign="center",b.current.fillText("Go",s.current.width/2,s.current.height/2+30),b.current.restore()),M(U.current/60*60),t=U.current/60*10,J.forEach((function(e,r){var n,a=s.current.width+2*V[2]-(t*e[0]-e[2])%(s.current.width+2*V[2])-2*V[2];(n=b.current).drawImage.apply(n,[l].concat(V,[a,e[1],V[2],V[3]])),a<=-V[2]&&(J[r]=null)})),J=J.filter((function(e){return null!==e})),function(e){var t=~~(e/60)%W.length;P.forEach((function(r,n){var c,u=s.current.width+2*W[t][2]-(e*r[0]-r[2])%(s.current.width+2*W[t][2])-2*W[t][2];(c=b.current).drawImage.apply(c,[l].concat(Object(a.a)(W[t]),[u,r[1],W[t][2],W[t][3]])),u<=-W[t][2]&&(P[n]=null)})),P=P.filter((function(e){return null!==e}))}(U.current/60*30),Q(~~(U.current/60*1)%2+2),Y(),_(T.current),z(w[r]),J.length<1&&J.push([.5,100*Math.random(),U.current/60*10*.5]),P.length<1&&P.push([1,30+90*Math.random(),U.current/60*30]);break;case O:!function(e){b.current.save(),b.current.font="30px PressStart",b.current.fillStyle="#535353",b.current.textAlign="center",b.current.fillText("Score",s.current.width/2,s.current.height/2-15),b.current.fillText(e.toString().padStart(5,"0"),s.current.width/2,s.current.height/2+45),b.current.restore()}(T.current),z(w[r])}var t};return Object(u.useEffect)((function(){return Object(f.a)({host:g.a.socketioHost,eventEmitters:[{emitter:"createRoom",data:{roomId:Z},ack:function(e){console.log("ack",e),e!==Z&&(G.current=e,N.push(Object(o.f)(d.a.home,{roomId:e})))}}],eventListeners:[{listener:"disconnect",callback:function(){return console.log("disconnect")}},{listener:"roomCreated",callback:function(e){G.current=e}},{listener:"gameStage",callback:function(e){n(e)}},{listener:"playersInfo",callback:function(e){F.current.length=0,e.forEach((function(e,t){var r=document.createElement("canvas");if(r.width=150,r.height=150,!1===e.joined){q.current[t]=!1;var n=window.location.origin+Object(o.f)(d.a.mobileHome,{playerId:e.playerId});m.a.toCanvas(r,n,{margin:0,width:150,color:{dark:C[t]}})}else{q.current[t]=!0;var a=r.getContext("2d");a.fillStyle=C[t],a.fillRect(0,0,150,150),a.drawImage.apply(a,[l].concat(x,[(150-x[2])/2,(150-x[3])/2,x[2],x[3]]))}F.current[t]=r}))}},{listener:"gameSelected",callback:function(e){D.current=e}},{listener:"playersShake",callback:function(e){!function(e){e.forEach((function(e,t){return B.current[t]+=2*e}));var t=e.reduce((function(e,t){return e+t}));T.current+=t,$(t)}(e)}},{listener:"gameResult",callback:function(e){T.current=e}}]}),function(){cancelAnimationFrame(k.current)}}),[]),Object(u.useEffect)((function(){switch(r){case v:case p:case E:case S:U.current=0,K.current=0,T.current=0,B.current=[0,0,0,0,0],X.current=Date.now();break;case I:case A:case O:X.current=Date.now()}return ee(),function(){cancelAnimationFrame(k.current)}}),[r]),i.a.createElement("div",{className:h.a.gameCanvasWrapper},i.a.createElement("canvas",{className:h.a.gameCanvas,ref:function(e){s.current=e,e?(e.width=e.offsetWidth,e.height=e.offsetHeight,b.current=e.getContext("2d")):b.current=null}}),r===v&&i.a.createElement("div",{className:h.a.fullscreenIcon,title:"Fullscreen",onClick:function(){return s.current.requestFullscreen()}}))}}}]);
//# sourceMappingURL=3.8651bd7d.chunk.js.map