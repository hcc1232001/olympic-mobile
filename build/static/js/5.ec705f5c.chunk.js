(this.webpackJsonpolympic=this.webpackJsonpolympic||[]).push([[5,12],{26:function(e,t,n){"use strict";n.r(t);var a=n(49),c=n(42),o=n(0),r=n.n(o),i=n(5),s=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(0),i=Object(c.a)(r,2),s=i[0],l=i[1];Object(o.useEffect)((function(){return n&&window.addEventListener("devicemotion",b,!1),function(){window.removeEventListener("devicemotion",b,!1)}}),[n]);var u=[null,null,null],m=Object(o.useRef)(0),b=function(e){var t=e.acceleration,n=t.x,a=t.y,c=t.z,o=Date.now(),r=o-m.current;m.current=o;Math.abs(n-u[0]);var i=Math.abs(a-u[1]);Math.abs(c-u[2]);l(i/r>.5?function(e){return e+1}:function(e){return Math.max(0,e-1)}),u=[n,a,c]};return[{moveCounter:s,permissionGranted:n},{setPermissionGranted:a,setMoveCounter:l}]},l=n(39),u=n(41),m=n(38),b=n.n(m),f=0,j=1,d=2,v=3,O=4,h=5,E=6,k=7;t.default=function(){var e,t=s(),n=Object(c.a)(t,2),m=n[0],p=m.moveCounter,_=m.permissionGranted,B=n[1],w=B.setMoveCounter,N=B.setPermissionGranted,y=Object(o.useState)(f),S=Object(c.a)(y,2),G=S[0],g=S[1],C=Object(o.useState)(0),H=Object(c.a)(C,2),I=H[0],M=H[1],R=Object(o.useState)(0),q=Object(c.a)(R,2),D=q[0],J=q[1],L=Object(o.useState)(""),P=Object(c.a)(L,2),x=P[0],F=P[1],T=Object(o.useState)(!1),z=Object(c.a)(T,2),Q=z[0],W=z[1],A=Object(i.i)("playerId"),K=Object(o.useRef)(null),U=function(){_||("function"===typeof DeviceOrientationEvent&&"function"===typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&N(!0)})).catch(console.error):N(!0))};Object(o.useEffect)((function(){_&&(K.current=Object(l.a)({host:u.a.socketioHost,eventEmitters:[{emitter:"joinRoom",data:A,ack:function(e){"joined"!==e&&(g(k),F(e))}}],eventListeners:[{listener:"gameStage",callback:function(e){g(e),e===d?M(0):e===E&&K.current.disconnect()}},{listener:"gameResult",callback:function(e){J(e)}},{listener:"playersInfo",callback:function(e){e.forEach((function(e){e.playerId===A.playerId&&W(e.joined)}))}},{listener:"gameChoice",callback:function(e){M(e)}},{listener:"gameSelected",callback:function(e){M(e)}}]}))}),[_]),Object(o.useEffect)((function(){p>2&&(V(),w(0))}),[p]);var V=function(){K.current.emit("shake")},X=function(e){K.current.emit("selectGame",e,(function(e){M(e)}))};return r.a.createElement("div",{className:b.a.wrapper},(e={},Object(a.a)(e,f,r.a.createElement("button",{className:b.a.joinButton,onClick:U},"Join Game!")),Object(a.a)(e,j,Q?r.a.createElement("div",{className:b.a.joinButton},"Wait for other players"):r.a.createElement("button",{className:b.a.joinButton,onClick:U},"Join Game!")),Object(a.a)(e,d,r.a.createElement("div",{className:b.a.joinButton},r.a.createElement("button",{onClick:function(){return X(0)},className:b.a.selectButton+(0===I?" "+b.a.selected:"")},"Game 1"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return X(1)},className:b.a.selectButton+(1===I?" "+b.a.selected:"")},"Game 2"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return X(2)},className:b.a.selectButton+(2===I?" "+b.a.selected:"")},"Game 3"))),Object(a.a)(e,v,r.a.createElement("div",{className:b.a.joinButton},"Game ",I+1)),Object(a.a)(e,O,r.a.createElement("div",{className:b.a.joinButton},"Ready")),Object(a.a)(e,h,r.a.createElement("button",{className:b.a.joinButton,onClick:V},"Shake!")),Object(a.a)(e,E,r.a.createElement("div",{className:b.a.joinButton},r.a.createElement("div",null,"Result"),r.a.createElement("div",{className:b.a.score},D),r.a.createElement("a",{className:b.a.shareToFb,href:"https://www.facebook.com/sharer/sharer.php?u=".concat(window.location.origin,"&quote=I played Shake Shake Game and got ").concat(D," marks !"),target:"_blank"},"Share"))),Object(a.a)(e,k,r.a.createElement("div",{className:b.a.joinButton},r.a.createElement("div",null,x))),e)[G])}},38:function(e,t,n){e.exports={wrapper:"mobileHome_wrapper__2dkv9",joinButton:"mobileHome_joinButton__2dv24",selectButton:"mobileHome_selectButton__13aoe",selected:"mobileHome_selected__2QI_z",score:"mobileHome_score__3c5ie",shareToFb:"mobileHome_shareToFb__2kqms"}},39:function(e,t,n){"use strict";var a=n(53),c=n.n(a);t.a=function(e){var t=e.host,n=e.eventListeners,a=e.eventEmitters,o=c()(t,{secure:!1});return o.on("connect",(function(){console.log("connected !"),a.forEach((function(e){var t="function"===typeof e.ack?e.ack:null;o.emit(e.emitter,e.data,t)}))})),n.forEach((function(e){o.on(e.listener,e.callback)})),o}},41:function(e,t,n){"use strict";t.a={socketioHost:"shakeshakegame.herokuapp.com"}},56:function(e,t){}}]);
//# sourceMappingURL=5.ec705f5c.chunk.js.map