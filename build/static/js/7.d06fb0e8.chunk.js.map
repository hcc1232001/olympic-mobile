{"version":3,"sources":["components/textAnimation.js","components/useImagePreload.js","components/useServerData.js","pages/mobileHome.js"],"names":["TextAnimation","texts","textsClass","breakTime","duration","currentTextIdx","useRef","timer","subTimers","useState","textDisplay","setTextDisplay","useEffect","changeText","clearTimeout","current","length","subTimer","pop","clear","currentText","delta","i","push","setTimeout","substr","className","useImagePreload","imagesArray","imagesLoaded","setImagesLoaded","setImagesEl","forEach","image","dummyImg","Image","onload","requestAnimationFrame","prevImagesLoaded","onerror","src","prevImagesEl","useServerData","initialUrl","serverUrl","setServerUrl","serverData","setServerData","fetch","then","res","json","catch","error","alert","console","log","gameStatus","gameStageClass","gameIdxToColor","playerColorCodeOfIdx","addCommas","x","toString","replace","MobileHomePage","preloadProgress","useDeviceMotion","moveCounter","permissionGranted","setMoveCounter","setPermissionGranted","config","apiUrl","gameStage","setGameStage","stageChanging","setStageChanging","setIsJoined","playerColorCode","setPlayerColorCode","gameSelected","setGameSelected","shakeIconArray","setShakeIconArray","score","setScore","alertText","setAlertText","gameWrapper","socket","playerId","useParams","shake","emit","generateShakeIcon","randomScale","Math","random","randomXStart","randomXEnd","randomY","randomRotationStart","randomRotationEnd","randomDuration","icon","styles","colorCodeInHex","initialStyles","bottom","left","transform","opacity","transition","finalStyles","key","Date","now","prevShakeIconArray","slice","withSocketio","host","socketioHost","eventEmitters","emitter","data","ack","result","eventListeners","listener","callback","stageId","disconnect","round","player","gameIdx","gameId","document","addEventListener","debugByKeyboard","removeEventListener","event","isJoinedFlag","ref","wrapper","join","style","width","selected","d","v","onClick","DeviceMotionEvent","requestPermission","response","buttonsWrapper","Array","fill","map","_","idx","button","newGameIdx","gameButton","floor","split","chr","backgroundColor","shareToFb","href","window","location","origin","target","dangerouslySetInnerHTML","__html","id"],"mappings":"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","file":"static/js/7.d06fb0e8.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\nimport './textAnimation.css';\r\n\r\nconst TextAnimation = ({\r\n  texts,\r\n  textsClass = ['zh', 'en'],\r\n  // delta = 80,\r\n  breakTime = 1500,\r\n  duration = 1000,\r\n}) => {\r\n  const currentTextIdx = useRef(0);\r\n  const timer = useRef(null);\r\n  const subTimers = useRef([]);\r\n  const [textDisplay, setTextDisplay] = useState(\"\");\r\n  useEffect(() => {\r\n    changeText();\r\n    // timer.current = setTimeout(changeText, duration);\r\n    return () => {\r\n      clearTimeout(timer.current);\r\n      while (subTimers.current.length > 0) {\r\n        const subTimer = subTimers.current.pop();\r\n        clearTimeout(subTimer);\r\n      }\r\n    }\r\n  }, []);\r\n  const changeText = (clear) => {\r\n    if (clear) {\r\n      const currentText = texts[currentTextIdx.current];\r\n      const delta = duration / currentText.length;\r\n      for (let i = 0; i < currentText.length; i++) {\r\n        ((i) => {\r\n          subTimers.current.push(setTimeout(() => {\r\n            setTextDisplay(currentText.substr(0, currentText.length - i - 1));\r\n          }, delta * i));\r\n        })(i)\r\n      }\r\n      timer.current = setTimeout(()=>changeText(), duration);\r\n      // timer.current = setTimeout(changeText, breakTime);\r\n      // setTextDisplay(\"\");\r\n    } else {\r\n      currentTextIdx.current = (currentTextIdx.current + 1) % texts.length;\r\n      const currentText = texts[currentTextIdx.current];\r\n      const delta = duration / currentText.length;\r\n      for (let i = 0; i < currentText.length; i++) {\r\n        ((i) => {\r\n          subTimers.current.push(setTimeout(() => {\r\n            setTextDisplay(currentText.substr(0, i + 1));\r\n          }, delta * i));\r\n        })(i)\r\n      }\r\n      timer.current = setTimeout(()=>changeText(true), duration + breakTime);\r\n    }\r\n  }\r\n  return <div className={'animateText ' + (textsClass && textsClass.length? textsClass[currentTextIdx.current]: '')}>{textDisplay}</div>;\r\n}\r\n\r\nexport default TextAnimation;","import React, {useState, useEffect, useRef} from 'react';\r\n\r\nconst useImagePreload = (imagesArray) => {\r\n  const [imagesLoaded, setImagesLoaded] = useState(0);\r\n  const [imagesEl, setImagesEl] = useState([]);\r\n  useEffect(() => {\r\n    if (imagesArray.length) {\r\n      imagesArray.forEach(image => {\r\n        const dummyImg = new Image();\r\n        dummyImg.onload = () => {\r\n          requestAnimationFrame(() => setImagesLoaded((prevImagesLoaded) => {\r\n            return prevImagesLoaded + 1;\r\n          }))\r\n        }\r\n        dummyImg.onerror = () => {\r\n          requestAnimationFrame(() => setImagesLoaded((prevImagesLoaded) => {\r\n            return prevImagesLoaded + 1;\r\n          }))\r\n        }\r\n        dummyImg.src = image;\r\n        setImagesEl((prevImagesEl) => {\r\n          return [...prevImagesEl, dummyImg];\r\n        });\r\n      });\r\n    }\r\n  }, [imagesArray]);\r\n\r\n  return [imagesArray.length? imagesLoaded / imagesArray.length: 0];\r\n}\r\n\r\nexport default useImagePreload;","import React, {useState, useEffect} from 'react';\r\n\r\nconst useServerData = (initialUrl) => {\r\n  const [serverUrl, setServerUrl] = useState(initialUrl);\r\n  const [serverData, setServerData] = useState({});\r\n  useEffect(() => {\r\n    fetch(serverUrl, {\r\n      // mode: 'cors',\r\n      // headers: {\r\n      //   'Content-Type': 'application/json'\r\n      // }\r\n    })\r\n      .then(res => res.json())\r\n      .then(json => setServerData(json))\r\n      .catch(error => alert(error));\r\n  }, [serverUrl]);\r\n  useEffect(() => {\r\n    console.log(serverData);\r\n  }, [serverData])\r\n  return [serverData, setServerUrl];\r\n}\r\n\r\nexport default useServerData;","import React, { useState, useEffect, useRef } from 'react';\r\nimport {useParams} from 'react-router-dom';\r\n// import useDeviceOrientation from 'components/useDeviceOrientation';\r\nimport TextAnimation from 'components/textAnimation';\r\nimport WaitingIcon from 'components/waitingIcon';\r\nimport FanIcon from 'components/fanIcon';\r\nimport FanIconSmall from 'components/fanIconSmall';\r\nimport ShakeIcon from 'components/shakeIcon';\r\n\r\nimport useDeviceMotion from 'components/useDeviceMotion';\r\nimport useImagePreload from 'components/useImagePreload';\r\n\r\nimport withSocketio from 'components/withSocketio';\r\n\r\nimport config from 'globals/config';\r\n\r\nimport styles from './mobileHome.module.css';\r\nimport useServerData from 'components/useServerData';\r\n\r\nconst gameStatus = {\r\n  idle:      0,\r\n  waiting:   1,\r\n  selecting: 2,\r\n  selected:  3,\r\n  ready:     4,\r\n  started:   5,\r\n  result:    6,\r\n  offline:   7, // should be not able to get this signal\r\n}\r\nconst gameStageClass = {\r\n  [gameStatus.idle]:      'stage-idle',\r\n  [gameStatus.waiting]:   'stage-waiting',\r\n  [gameStatus.selecting]: 'stage-selecting',\r\n  [gameStatus.selected]:  'stage-selected',\r\n  [gameStatus.ready]:     'stage-ready',\r\n  [gameStatus.started]:   'stage-started',\r\n  [gameStatus.result]:    'stage-result',\r\n  [gameStatus.offline]:   'stage-offline',\r\n}\r\nconst gameIdxToColor = [\r\n  'red',\r\n  'yellow',\r\n  'blue',\r\n]\r\nconst playerColorCodeOfIdx = [\r\n  \"#ed334e\",\r\n  \"#00652e\",\r\n  \"#0080C7\",\r\n  \"#fbb130\",\r\n  \"#231f20\",\r\n];\r\nconst imagesArray = [\r\n  '/media/images/title.png',\r\n  '/media/images/idle.png',\r\n  '/media/images/landing-counter1.png',\r\n  '/media/images/landing-counter2.png',\r\n  '/media/images/logo-white.png',\r\n  '/media/images/waiting.png',\r\n  '/media/images/background-logo.png',\r\n  '/media/images/chosing.png',\r\n  '/media/sprites/sports.png',\r\n  '/media/images/atheletics-zh.png',\r\n  '/media/images/atheletics-en.png',\r\n  '/media/images/cycle-zh.png',\r\n  '/media/images/cycle-en.png',\r\n  '/media/images/swim-zh.png',\r\n  '/media/images/swim-en.png',\r\n  '/media/images/gacha-top-red.png',\r\n  '/media/images/gacha-bottom-red.png',\r\n  '/media/images/gacha-top-blue.png',\r\n  '/media/images/gacha-bottom-blue.png',\r\n  '/media/images/gacha-top-yellow.png',\r\n  '/media/images/gacha-bottom-yellow.png',\r\n  '/media/images/cheerhk.png',\r\n  '/media/images/atheletics-zh-inv.png',\r\n  '/media/images/atheletics-en-inv.png',\r\n  '/media/images/cycle-zh-inv.png',\r\n  '/media/images/cycle-en-inv.png',\r\n  '/media/images/swim-zh-inv.png',\r\n  '/media/images/swim-en-inv.png',\r\n  '/media/images/get.png',\r\n  '/media/images/set.png',\r\n  '/media/images/go.png',\r\n  '/media/images/congratz-red.png',\r\n  '/media/images/congratz-green.png',\r\n  '/media/images/congratz-yellow.png',\r\n  '/media/images/congratz-blue.png',\r\n  '/media/images/congratz-black.png',\r\n  '/media/images/result.png',\r\n  '/media/sprites/number.png',\r\n  '/media/images/remain-zh.png',\r\n];\r\n\r\nconst addCommas = (x) => {\r\n  if (typeof x === \"number\")\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  if (typeof x === \"string\")\r\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  return x;\r\n}\r\nconst MobileHomePage = () => {\r\n  const [preloadProgress] = useImagePreload(imagesArray);\r\n  const [{moveCounter, permissionGranted}, {setMoveCounter, setPermissionGranted}] = useDeviceMotion();\r\n  const [serverData, setServerUrl] = useServerData(config.apiUrl);\r\n  const [gameStage, setGameStage] = useState(gameStatus['idle']);\r\n  // const [gameStage, setGameStage] = useState(gameStatus['result']);\r\n  const [stageChanging, setStageChanging] = useState(gameStatus['offline']);\r\n  const [isJoined, setIsJoined] = useState(false);\r\n  const [playerColorCode, setPlayerColorCode] = useState(playerColorCodeOfIdx[0]);\r\n  const [gameSelected, setGameSelected] = useState(-1);\r\n  // const [gameSelected, setGameSelected] = useState(1);\r\n  const [shakeIconArray, setShakeIconArray] = useState([]);\r\n  const [score, setScore] = useState(0);\r\n  const [alertText, setAlertText] = useState('');\r\n\r\n  const gameWrapper = useRef(null);\r\n  const socket = useRef(null);\r\n\r\n  const playerId = useParams('playerId');\r\n\r\n  const setGameWrapper = (ref) => gameWrapper.current = ref;\r\n  const requestPermission = () => {\r\n    if (typeof(DeviceMotionEvent) === \"function\" && typeof(DeviceMotionEvent.requestPermission) === \"function\") {\r\n      DeviceMotionEvent.requestPermission().then(response => {\r\n        if (response == 'granted') {\r\n          setPermissionGranted(true);\r\n          // setGameStage(gameStatus['started']);\r\n        } else {\r\n          alert(\"Please allow the Device Motion to start the game.\\n請允許使用裝置加速計權限以進行遊戲\");\r\n        }\r\n      })\r\n      .catch(console.error);\r\n    } else {\r\n      setPermissionGranted(true);\r\n      // setGameStage(gameStatus['started']);\r\n    }\r\n  };\r\n\r\n  const joinRoom = () => {\r\n    if (!permissionGranted) {\r\n      // setPermissionGranted(true);\r\n      requestPermission();\r\n    } else {\r\n      // socket.current.emit('joinRoom', playerId);\r\n    }\r\n  }\r\n  const selectGame = (gameIdx) => {\r\n    if (socket.current) {\r\n      socket.current.emit('selectGame', {\r\n        data: gameIdx\r\n      }, (data) => {\r\n        const newGameIdx = data['data'];\r\n        setGameSelected(newGameIdx);\r\n      });\r\n    } else {\r\n      if (gameSelected === gameIdx) {\r\n        setGameSelected(-1);\r\n      } else {\r\n        setGameSelected(gameIdx);\r\n      }\r\n    }\r\n  }\r\n\r\n  const shake = () => {\r\n    if (socket.current) {\r\n      socket.current.emit('shake');\r\n    }\r\n    generateShakeIcon();\r\n    // vibration api, ios not support\r\n    // window.navigator.vibrate(100);\r\n  }\r\n  const generateShakeIcon = () => {\r\n    const randomScale = (Math.random() + 8) / 9;\r\n    const randomXStart = Math.random() * 50 - 25;\r\n    const randomXEnd = Math.random() * 30 - 10;\r\n    const randomY = Math.random() * 10 - 5;\r\n    const randomRotationStart = Math.random() * 180 - 90;\r\n    const randomRotationEnd = Math.random() * 90 - 45;\r\n    const randomDuration = Math.random() + 4;\r\n    const icon = <ShakeIcon \r\n      className={styles['shake-icon']} \r\n      colorCodeInHex={playerColorCode}\r\n      initialStyles={{\r\n        bottom: `${60 + randomY}vw`,\r\n        left: `${50 + randomXStart}%`,\r\n        transform: `translateX(-50%) scale(${randomScale}) rotate(${randomRotationStart}DEG)`,\r\n        opacity: 0.8,\r\n        transition: `all ${randomDuration}s`\r\n      }}\r\n      finalStyles={{\r\n        bottom: '100vh',\r\n        left: `${randomXEnd}%`,\r\n        transform: `translateX(-50%) scale(0) rotate(${randomRotationEnd}DEG)`,\r\n        opacity: 0,\r\n        transition: `all ${randomDuration}s`\r\n      }}\r\n      key={`${Date.now()}${Math.random()}`}\r\n    />;\r\n    requestAnimationFrame(() => {\r\n      setShakeIconArray((prevShakeIconArray) => {\r\n        return [...prevShakeIconArray.slice(-15), icon];\r\n        // return [...prevShakeIconArray, icon];\r\n      });\r\n    })\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (moveCounter > 2) {\r\n      shake();\r\n      setMoveCounter(0);\r\n    }\r\n  }, [moveCounter]);\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setStageChanging(gameStage);\r\n    }, 20);\r\n    if (gameStage === gameStatus.ready) {\r\n      setShakeIconArray([]);\r\n    }\r\n  }, [gameStage]);\r\n  useEffect(() => {\r\n    if (permissionGranted) {\r\n      socket.current = withSocketio({\r\n        host: config.socketioHost,\r\n        eventEmitters: [\r\n          {\r\n            emitter: 'joinRoom',\r\n            data: playerId,\r\n            ack: (result) => {\r\n              // alert(result);\r\n              if (result['data'] !== \"joined\") {\r\n                setGameStage(gameStatus.offline);\r\n                setAlertText(result['data']);\r\n              } else {\r\n                setPlayerColorCode(\r\n                  playerColorCodeOfIdx[result['index']]\r\n                );\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        eventListeners: [\r\n          {\r\n            listener: 'gameStage',\r\n            callback: (data) => {\r\n              const stageId = data['data'];\r\n              setGameStage(stageId);\r\n              // if (stageId === gameStatus.selecting) {\r\n              //   setGameSelected(0);\r\n              // } else \r\n              if (stageId === gameStatus.result) {\r\n                socket.current.disconnect();\r\n              }\r\n            }\r\n          },\r\n          {\r\n            listener: 'gameResult',\r\n            callback: (data) => {\r\n              console.log(data);\r\n              const score = data['data'];\r\n              setScore(Math.round(score));\r\n            }\r\n          },\r\n          {\r\n            listener: 'playersInfo',\r\n            callback: (data) => {\r\n              const players = data['data'];\r\n              players.forEach(player => {\r\n                if (player['playerId'] === playerId['playerId']) {\r\n                  setIsJoined(player['joined']);\r\n                }\r\n              });\r\n            }\r\n          },\r\n          {\r\n            listener: 'gameChoice',\r\n            callback: (data) => {\r\n              const gameIdx = data['data'];\r\n              setGameSelected(gameIdx);\r\n            }\r\n          },\r\n          {\r\n            listener: 'gameSelected',\r\n            callback: (data) => {\r\n              const gameId = data['data'];\r\n              setGameSelected(gameId);\r\n              // gameSelected.current = gameId;\r\n            }\r\n          },\r\n        ]\r\n      })\r\n    }\r\n  }, [permissionGranted]);\r\n  useEffect(() => {\r\n    document.addEventListener(\"keyup\", debugByKeyboard);\r\n    return () => {\r\n      document.removeEventListener(\"keyup\", debugByKeyboard);\r\n    }\r\n  }, []);\r\n  const debugByKeyboard = (event) => {\r\n    let isJoinedFlag = true;\r\n    switch (event.key) {\r\n      case \"1\":\r\n        isJoinedFlag = false;\r\n      case \"2\":\r\n      case \"3\":\r\n        setGameSelected(-1);\r\n      case \"4\":\r\n      case \"5\":\r\n      case \"6\":\r\n      case \"7\":\r\n        setGameStage(event.key - 1);\r\n        setIsJoined(isJoinedFlag);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  return (\r\n    <div ref={setGameWrapper} className={styles.wrapper}>\r\n      {<div className={[styles[\"preloadWrapper\"], preloadProgress < 1? styles[\"active\"]: null].join(' ')}>\r\n        <div className={styles['progress']}>\r\n          <div className={styles['bar']} style={{\r\n            width: `${preloadProgress * 100}%`\r\n          }} />\r\n        </div>\r\n        <div className={styles['percent']}>\r\n          {`${Math.round(preloadProgress * 100)}%`}\r\n        </div>\r\n      </div>}\r\n      <div className={[styles['stage'], styles[gameStageClass[gameStage]], (stageChanging === gameStage? styles['active']: null), (gameSelected !== -1? styles.selected: null)].join(' ')}>\r\n        <div className={styles[\"background\"]}>\r\n          <div className={styles[\"texture\"]} />\r\n        </div>\r\n        <div className={[styles[\"marquee\"], styles[\"marqueeTop\"], styles[\"marqueeIdle\"]].join(' ')} />\r\n        <div className={[styles[\"marquee\"], styles[\"marqueeLeft\"], styles[\"marqueeIdle\"]].join(' ')} />\r\n        <div className={[styles[\"marquee\"], styles[\"marqueeBottom\"], styles[\"marqueeIdle\"]].join(' ')} />\r\n        <div className={[styles[\"marquee\"], styles[\"marqueeRight\"], styles[\"marqueeIdle\"]].join(' ')} />\r\n        {gameStage === gameStatus.idle && <>\r\n          <div className={styles[\"title\"]} />\r\n          <div className={[styles[\"counter\"], styles[\"counter1\"]].join(' ')}>\r\n            <span>{addCommas(serverData.d)}</span> km\r\n            <div className={styles[\"counterHints\"]}>\r\n              <TextAnimation \r\n                textsClass={[\r\n                  'zh',\r\n                  'en'\r\n                ]}\r\n                texts={[\r\n                  \"累積距離\",\r\n                  \"Cumulative distance\"\r\n                ]}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={[styles[\"counter\"], styles[\"counter2\"]].join(' ')}>\r\n            <span>{addCommas(serverData.v)}</span>\r\n            <div className={styles[\"counterHints\"]}>\r\n              <TextAnimation \r\n                texts={[\r\n                  \"累積人數\",\r\n                  \"Cumulative visits\"\r\n                ]}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={styles[\"logo\"]} />\r\n          <div className={styles[\"join-game-button\"]} onClick={joinRoom}>\r\n            <div className={styles[\"face\"]}>\r\n              <TextAnimation \r\n                texts={[\r\n                  \"立即參加\",\r\n                  \"Join game\"\r\n                ]}\r\n              />\r\n            </div>\r\n            <div className={styles[\"shadow\"]} />\r\n          </div>\r\n        </>}\r\n        {gameStage === gameStatus.waiting && <>\r\n          <WaitingIcon className={[styles[\"movingIcon\"], styles[\"movingIcon1\"]].join(' ')} colorCodeInHex={playerColorCode} />\r\n          <WaitingIcon className={[styles[\"movingIcon\"], styles[\"movingIcon2\"]].join(' ')} colorCodeInHex={playerColorCode} />\r\n          <WaitingIcon className={[styles[\"movingIcon\"], styles[\"movingIcon3\"]].join(' ')} colorCodeInHex={playerColorCode} />\r\n          <WaitingIcon className={[styles[\"movingIcon\"], styles[\"movingIcon4\"]].join(' ')} colorCodeInHex={playerColorCode} />\r\n        </>}\r\n        {gameStage === gameStatus.selecting && <>\r\n          <div className={[styles.buttonsWrapper, (gameSelected !== -1? styles.selected: null)].join(' ')}>\r\n            {\r\n              new Array(3).fill(0).map((_, idx) => {\r\n                return (\r\n                  <div className={styles.button}>\r\n                    <button onClick={()=>selectGame(idx)} \r\n                      className={[styles.gameButton, styles[`gameButton${idx}`], (gameSelected === idx? styles.selected: null)].join(' ')}>\r\n                      <div className={styles[\"contentWrapper\"]}>\r\n                        <div className={styles[\"zh\"]}><div className={styles['textImg']} /></div>\r\n                        <div className={styles[\"en\"]}><div className={styles['textImg']} /></div>\r\n                        <div className={styles[\"ani\"]} />\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n                );\r\n              })\r\n            }\r\n            <div className={[styles['gacha'], styles['red']].join(' ')}>\r\n              <div className={styles['gachaTop']} />\r\n              <div className={styles['gachaBottom']} />\r\n            </div>\r\n            <div className={[styles['gacha'], styles['yellow']].join(' ')}>\r\n              <div className={styles['gachaTop']} />\r\n              <div className={styles['gachaBottom']} />\r\n            </div>\r\n            <div className={[styles['gacha'], styles['blue']].join(' ')}>\r\n              <div className={styles['gachaTop']} />\r\n              <div className={styles['gachaBottom']} />\r\n            </div>\r\n          </div>\r\n        </>}\r\n        {gameStage === gameStatus.selected && <>\r\n          <div className={[styles['title']].join(' ')}></div>\r\n          <div className={[styles[\"gameName\"], styles[`game${gameSelected}`]].join(' ')}>\r\n            <div className={styles[\"loading\"]}>Loading...</div>\r\n            <div className={styles[\"zh\"]} />\r\n            <div className={styles[\"en\"]} />\r\n          </div>\r\n          <div className={[styles['gacha'], styles['selected'], styles[gameIdxToColor[gameSelected]]].join(' ')}>\r\n            <div className={styles['gachaTop']} />\r\n            <div className={styles['gachaBottom']} />\r\n          </div>\r\n          <div className={[styles['resultWrapper']].join(' ')}>\r\n            <div className={[styles['result'], styles[`result${gameSelected}`]].join(' ')} />\r\n          </div>\r\n        </>}\r\n        {(gameStage === gameStatus.ready || gameStage === gameStatus.started) && <>\r\n          <div className={styles[\"get-image\"]} />\r\n          <div className={styles[\"set-image\"]} />\r\n          <div className={styles[\"go-image\"]} />\r\n          <div onClick={shake}>\r\n            <FanIcon className={[styles[\"fanIcon\"]].join(' ')} colorCodeInHex={playerColorCode} />\r\n          </div>\r\n          {shakeIconArray}\r\n        </>}\r\n        {gameStage === gameStatus.result && <>\r\n          <div className={styles[\"background\"]}>\r\n            <div className={styles[\"texture\"]} />\r\n          </div>\r\n          <div className={styles[\"splashScreen\"]}>\r\n            {new Array(10).fill(0).map((_, idx) => {\r\n              return <div className={[styles[\"banner-wrapper\"], styles[`bannerLot${Math.floor(idx / 5)}`], styles[`bannerType${idx % 5}`]].join(' ')}>\r\n                <div className={styles[\"banner\"]} />\r\n              </div>;\r\n            })}\r\n          </div>\r\n          <div className={styles[\"title\"]} />\r\n          <div className={styles[\"header\"]} />\r\n          <div className={[styles[\"score\"], styles[`digit${score.toString().split('').length}`]].join(' ')}>\r\n            {score.toString().split('').map((chr, idx) => {\r\n              return <span key={idx} className={[styles[\"number\"], styles[`number${chr}`]].join(' ')} />;\r\n            })}\r\n            <div className={styles[\"unit\"]}>km</div>\r\n            <div className={styles[\"remain\"]}>\r\n              <div className={styles[\"zh\"]}>{addCommas(2884 - score)}</div>\r\n              {/* <div className={styles[\"en\"]}>{2884 - score} to go</div> */}\r\n            </div>\r\n          </div>\r\n          <div className={styles[\"bar-chart\"]}>\r\n            <div className={styles[\"bar\"]} style={{\r\n              backgroundColor: playerColorCode,\r\n              width: `${(stageChanging === gameStatus.result? Math.random() * 50 + 50: 0)}%`\r\n            }} />\r\n            <FanIconSmall className={styles[\"icon\"]} colorCodeInHex={playerColorCode} />\r\n          </div>\r\n          <div className={[styles[\"selected\"], styles[`selected${gameSelected}`]].join(' ')} />\r\n          <a className={styles.shareToFb} href={`https://www.facebook.com/sharer/sharer.php?u=${window.location.origin + '/share.html'}&quote=我支持咗喇! 大家都一齊玩啦~%0A%23體育節 %23全民運動%0A%23邁向東京 %23支持香港運動員%0AI have showed my support! Let’s join together~%0A%23FestivalofSport %23SportforAll%0A%23RoadtoTokyo %23SupportHKAthletes%0A%0Ahttps://fos.hkolympic.org/`} target=\"_blank\">\r\n            <div className={styles[\"face\"]}>\r\n                <TextAnimation \r\n                  duration={500}\r\n                  breakTime={2000}\r\n                  texts={[\r\n                    \"立即分享\",\r\n                    \"Share\"\r\n                  ]}\r\n                />\r\n              </div>\r\n              <div className={styles[\"shadow\"]} />\r\n          </a>\r\n        </>}\r\n        {gameStage === gameStatus.offline && <>\r\n          <div className={styles[\"alertText\"]} dangerouslySetInnerHTML={{\r\n            __html: alertText\r\n          }} />\r\n        </>\r\n        }\r\n        <div id={styles[\"debug\"]}>\r\n        {shakeIconArray.length}\r\n        <br />\r\n        {gameStage}\r\n        <br />\r\n        {serverData.d + ' ' + serverData.v}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MobileHomePage;"],"sourceRoot":""}